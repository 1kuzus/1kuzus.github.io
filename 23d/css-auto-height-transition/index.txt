2:I[55329,["481","static/chunks/457b8330-b5c9cf3fcf214847.js","954","static/chunks/d3ac728e-0c798b3b8aa3bf53.js","250","static/chunks/250-0ef8476c0fa8ee24.js","612","static/chunks/612-fa632c1349770315.js","548","static/chunks/548-617600d488b129da.js","877","static/chunks/app/%5B...slug%5D/page-c055ea9888416fd7.js"],""]
3:I[86510,["481","static/chunks/457b8330-b5c9cf3fcf214847.js","954","static/chunks/d3ac728e-0c798b3b8aa3bf53.js","250","static/chunks/250-0ef8476c0fa8ee24.js","612","static/chunks/612-fa632c1349770315.js","548","static/chunks/548-617600d488b129da.js","877","static/chunks/app/%5B...slug%5D/page-c055ea9888416fd7.js"],"PostMeta"]
4:"$Sreact.suspense"
6:I[30389,["481","static/chunks/457b8330-b5c9cf3fcf214847.js","954","static/chunks/d3ac728e-0c798b3b8aa3bf53.js","250","static/chunks/250-0ef8476c0fa8ee24.js","612","static/chunks/612-fa632c1349770315.js","548","static/chunks/548-617600d488b129da.js","877","static/chunks/app/%5B...slug%5D/page-c055ea9888416fd7.js"],""]
7:I[5613,[],""]
9:I[31778,[],""]
a:I[25694,["250","static/chunks/250-0ef8476c0fa8ee24.js","185","static/chunks/app/layout-832d9b697ba819a6.js"],"GlobalProvider"]
b:I[30397,["250","static/chunks/250-0ef8476c0fa8ee24.js","185","static/chunks/app/layout-832d9b697ba819a6.js"],""]
8:["slug","23d/css-auto-height-transition","c"]
0:["5OJUqVj6x1bNC-OuxXRYQ",[[["",{"children":[["slug","23d/css-auto-height-transition","c"],{"children":["__PAGE__?{\"slug\":[\"23d\",\"css-auto-height-transition\"]}",{}]}]},"$undefined","$undefined",true],["",{"children":[["slug","23d/css-auto-height-transition","c"],{"children":["__PAGE__",{},["$L1",[["$","$L2",null,{}],["$","div",null,{"id":"post-layout","children":[false,["$","div",null,{"id":"main","className":"center-wrapper","children":[["$","h1",null,{"className":"post-title","children":"CSS实现auto高度的过渡动画"}],["$","$L3",null,{"path":"/23d/css-auto-height-transition/"}],["$","$4",null,{"fallback":["$","p",null,{"children":"Loading component..."}],"children":"$L5"}]]}],["$","$L6",null,{}]]}]],null]]},["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","$8","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/9687af492632970b.css","precedence":"next","crossOrigin":""}]]}]]},[null,["$","html",null,{"lang":"zh-CN","suppressHydrationWarning":true,"children":[["$","head",null,{"children":[["$","link",null,{"rel":"icon","href":"/favicon.ico","type":"image/x-icon"}],["$","script",null,{"async":true,"src":"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"}],["$","script",null,{"async":true,"src":"https://www.googletagmanager.com/gtag/js?id=G-45BYSZ6WPY"}],["$","script",null,{"dangerouslySetInnerHTML":{"__html":"\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag() {\n    dataLayer.push(arguments);\n}\ngtag('js', new Date());\ngtag('config', 'G-45BYSZ6WPY');\n"}}],["$","script",null,{"dangerouslySetInnerHTML":{"__html":"const a=z=>h.getItem(z),b=(y,z)=>h.setItem(y,z),c=(y,z)=>document.documentElement.setAttribute(y,z),d='theme',e='dark',f='light',g='class',h=localStorage;a(d)!==e&&a(d)!==f&&b(d,f);a(d)===e?c(g,e):c(g,f);"}}],["$","script",null,{"dangerouslySetInnerHTML":{"__html":"\nif (!Array.prototype.findLast) {\n    Array.prototype.findLast = function (callback) {\n        for (let i = this.length - 1; i >= 0; i--) {\n            if (callback(this[i])) return this[i];\n        }\n        return undefined;\n    };\n}\nif (!Array.prototype.findLastIndex) {\n    Array.prototype.findLastIndex = function (callback) {\n        for (let i = this.length - 1; i >= 0; i--) {\n            if (callback(this[i])) return i;\n        }\n        return -1;\n    };\n}\n"}}]]}],["$","body",null,{"children":["$","$La",null,{"children":[["$","$Lb",null,{}],["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"id":"notfound","children":[["$","img",null,{"alt":"img","src":"/images/cry.gif"}],["$","code",null,{"id":"notfound-404","children":"404"}],["$","code",null,{"id":"notfound-text","children":"Page Not Found"}]]}],"notFoundStyles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/98e601cf5ba3633d.css","precedence":"next","crossOrigin":""}]],"styles":null}]]}]}]]}],null]],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/9dc17cfeb42615f9.css","precedence":"next","crossOrigin":""}]],"$Lc"]]]]
d:I[62029,["481","static/chunks/457b8330-b5c9cf3fcf214847.js","954","static/chunks/d3ac728e-0c798b3b8aa3bf53.js","250","static/chunks/250-0ef8476c0fa8ee24.js","612","static/chunks/612-fa632c1349770315.js","548","static/chunks/548-617600d488b129da.js","877","static/chunks/app/%5B...slug%5D/page-c055ea9888416fd7.js"],""]
e:Ta3f,<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">></span></span>hover me!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
f:T684,<span class="token selector">#wrapper</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 240px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 16px 24px<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#content p</span> <span class="token punctuation">{</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#content</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token comment">/*不起作用*/</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> height 500ms<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#wrapper:hover #content</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
10:Ta3f,<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">></span></span>hover me!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
11:T6e2,<span class="token selector">#wrapper</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 240px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 16px 24px<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#content p</span> <span class="token punctuation">{</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#content</span> <span class="token punctuation">{</span>
    <span class="token comment">/*起始高度*/</span>
    <span class="token property">max-height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> max-height 500ms<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#wrapper:hover #content</span> <span class="token punctuation">{</span>
    <span class="token comment">/*确保大于content最大可能高度*/</span>
    <span class="token property">max-height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
12:Tb8a,<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">></span></span>hover me!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
13:T8ae,<span class="token selector">#wrapper</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 240px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 16px 24px<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#content p</span> <span class="token punctuation">{</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#content</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
    <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> 0fr<span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span>
        grid-template-rows 500ms<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#content > div</span> <span class="token punctuation">{</span>
    <span class="token comment">/*使子元素动画与父元素保持一致*/</span>
    <span class="token property">grid-row</span><span class="token punctuation">:</span> 1 / span 2<span class="token punctuation">;</span>
    <span class="token comment">/*overflow也设置给子元素*/</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#wrapper:hover #content</span> <span class="token punctuation">{</span>
    <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> 1fr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
5:[["$","h2",null,{"className":"x-h1","children":"问题描述"}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"下面是一个常见的效果，当鼠标悬浮时展开显示内容，离开时自动收回。"}}],["$","div",null,{"className":"x-flexrow-wrapper","children":["$","div",null,{"className":"x-flexrow","style":{"gap":"32px","minWidth":"$undefined","justifyContent":"$undefined","alignItems":"$undefined"},"children":[["$","div",null,{"className":"imm_wrapper1__odWBb","children":[["$","h4",null,{"children":"hover me!"}],["$","div",null,{"className":"imm_content1__jjYAJ","children":[["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}]]}]]}],["$","div",null,{"children":[["$","h4",null,{"className":"x-h3","children":"HTML"}],["$","div",null,{"className":"x-codeblock","children":[["$","div",null,{"className":"x-codeblock-header","children":[["$","div",null,{"className":"x-codeblock-header-language","children":"HTML"}],["$","$Ld",null,{"className":"x-codeblock-header-copy","text":"<div className=\"wrapper\">\n    <h4>hover me!</h4>\n    <div className=\"content\">\n        <p>Hello, World!</p>\n        <p>Hello, World!</p>\n        <p>Hello, World!</p>\n        <p>Hello, World!</p>\n    </div>\n</div>\n"}]]}],["$","pre",null,{"style":{"background":null},"children":["$","code",null,{"dangerouslySetInnerHTML":{"__html":"$e"}}]}]]}]]}],["$","div",null,{"children":[["$","h4",null,{"className":"x-h3","children":"CSS"}],["$","div",null,{"className":"x-codeblock","children":[["$","div",null,{"className":"x-codeblock-header","children":[["$","div",null,{"className":"x-codeblock-header-language","children":"CSS"}],["$","$Ld",null,{"className":"x-codeblock-header-copy","text":"#wrapper {\n    width: 240px;\n    padding: 16px 24px;\n    border-radius: 12px;\n}\n#content p {\n    line-height: 32px;\n}\n#content {\n    height: 0;\n    overflow: hidden;\n    /*不起作用*/\n    transition: height 500ms;\n}\n#wrapper:hover #content {\n    height: auto;\n}\n"}]]}],["$","pre",null,{"style":{"background":null},"children":["$","code",null,{"dangerouslySetInnerHTML":{"__html":"$f"}}]}]]}]]}]]}]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"由于通常不知道<code class=\"x-inline-highlight\">content</code>中具体内容所占的高度，因此常用<code class=\"x-inline-highlight\">height: auto;</code>设置高度。上面的示例可以良好的实现要求，问题出现在当我们需要为这个高度的变化添加过渡动画时，会发现<code class=\"x-inline-highlight\">transition: height 500ms;</code>不起作用，这是因为<code class=\"x-inline-highlight\">auto</code>并不是一个具体的高度数值。"}}],["$","h2",null,{"className":"x-h1","children":"使用 max-height 解决"}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"一个常见方案是使用<code class=\"x-inline-highlight\">max-height</code>控制。这样确实可以实现过渡动画效果，但并不是一个“完美”的动画：<br/>当过高的估计了<code class=\"x-inline-highlight\">content</code>容器的最大可能高度时，鼠标移入时的动画会的变快，而移出时动画会有延迟。这是因为有一部分时间花在了<code class=\"x-inline-highlight\">max-height</code>数值在<code class=\"x-inline-highlight\">content</code>容器的真实高度和设定值之间的过渡上，而这部分过渡时间不会影响页面元素的样式。"}}],["$","div",null,{"className":"x-flexrow-wrapper","children":["$","div",null,{"className":"x-flexrow","style":{"gap":"32px","minWidth":"$undefined","justifyContent":"$undefined","alignItems":"$undefined"},"children":[["$","div",null,{"className":"imm_wrapper2__rfYiR","children":[["$","h4",null,{"children":"hover me!"}],["$","div",null,{"className":"imm_content2__bL34k","children":[["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}]]}]]}],["$","div",null,{"children":[["$","h4",null,{"className":"x-h3","children":"HTML"}],["$","div",null,{"className":"x-codeblock","children":[["$","div",null,{"className":"x-codeblock-header","children":[["$","div",null,{"className":"x-codeblock-header-language","children":"HTML"}],["$","$Ld",null,{"className":"x-codeblock-header-copy","text":"<div className=\"wrapper\">\n    <h4>hover me!</h4>\n    <div className=\"content\">\n        <p>Hello, World!</p>\n        <p>Hello, World!</p>\n        <p>Hello, World!</p>\n        <p>Hello, World!</p>\n    </div>\n</div>\n"}]]}],["$","pre",null,{"style":{"background":null},"children":["$","code",null,{"dangerouslySetInnerHTML":{"__html":"$10"}}]}]]}]]}],["$","div",null,{"children":[["$","h4",null,{"className":"x-h3","children":"CSS"}],["$","div",null,{"className":"x-codeblock","children":[["$","div",null,{"className":"x-codeblock-header","children":[["$","div",null,{"className":"x-codeblock-header-language","children":"CSS"}],["$","$Ld",null,{"className":"x-codeblock-header-copy","text":"#wrapper {\n    width: 240px;\n    padding: 16px 24px;\n    border-radius: 12px;\n}\n#content p {\n    line-height: 32px;\n}\n#content {\n    /*起始高度*/\n    max-height: 0;\n    overflow: hidden;\n    transition: max-height 500ms;\n}\n#wrapper:hover #content {\n    /*确保大于content最大可能高度*/\n    max-height: 600px;\n}\n"}]]}],["$","pre",null,{"style":{"background":null},"children":["$","code",null,{"dangerouslySetInnerHTML":{"__html":"$11"}}]}]]}]]}]]}]}],["$","h2",null,{"className":"x-h1","children":"更好的方案：使用 grid"}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"一个更完美的解决方案是使用网格布局："}}],["$","div",null,{"className":"x-flexrow-wrapper","children":["$","div",null,{"className":"x-flexrow","style":{"gap":"32px","minWidth":"$undefined","justifyContent":"$undefined","alignItems":"$undefined"},"children":[["$","div",null,{"className":"imm_wrapper3__JHsM_","children":[["$","h4",null,{"children":"hover me!"}],["$","div",null,{"className":"imm_content3__rQ66w","children":["$","div",null,{"children":[["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}]]}]}]]}],["$","div",null,{"children":[["$","h4",null,{"className":"x-h3","children":"HTML"}],["$","div",null,{"className":"x-codeblock","children":[["$","div",null,{"className":"x-codeblock-header","children":[["$","div",null,{"className":"x-codeblock-header-language","children":"HTML"}],["$","$Ld",null,{"className":"x-codeblock-header-copy","text":"<div className=\"wrapper\">\n    <h4>hover me!</h4>\n    <div className=\"content\">\n        <div>\n            <p>Hello, World!</p>\n            <p>Hello, World!</p>\n            <p>Hello, World!</p>\n            <p>Hello, World!</p>\n        </div>\n    </div>\n</div>\n"}]]}],["$","pre",null,{"style":{"background":null},"children":["$","code",null,{"dangerouslySetInnerHTML":{"__html":"$12"}}]}]]}]]}],["$","div",null,{"children":[["$","h4",null,{"className":"x-h3","children":"CSS"}],["$","div",null,{"className":"x-codeblock","children":[["$","div",null,{"className":"x-codeblock-header","children":[["$","div",null,{"className":"x-codeblock-header-language","children":"CSS"}],["$","$Ld",null,{"className":"x-codeblock-header-copy","text":"#wrapper {\n    width: 240px;\n    padding: 16px 24px;\n    border-radius: 12px;\n}\n#content p {\n    line-height: 32px;\n}\n#content {\n    display: grid;\n    grid-template-rows: 0fr;\n    transition:\n        grid-template-rows 500ms;\n}\n#content > div {\n    /*使子元素动画与父元素保持一致*/\n    grid-row: 1 / span 2;\n    /*overflow也设置给子元素*/\n    overflow: hidden;\n}\n#wrapper:hover #content {\n    grid-template-rows: 1fr;\n}\n"}]]}],["$","pre",null,{"style":{"background":null},"children":["$","code",null,{"dangerouslySetInnerHTML":{"__html":"$13"}}]}]]}]]}]]}]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"注意在HTML结构中，要为<code class=\"x-inline-highlight\">content</code>再添加一层子元素<code class=\"x-inline-highlight\">div</code>，<code class=\"x-inline-highlight\">display: grid;</code>和<code class=\"x-inline-highlight\">grid-template-rows</code>属性仍然设置给<code class=\"x-inline-highlight\">content</code>，但此时<code class=\"x-inline-highlight\">overflow: hidden;</code>要设置给<code class=\"x-inline-highlight\">content</code>的子元素。"}}],["$","h3",null,{"className":"x-h2","children":"讨论"}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"<code class=\"x-inline-highlight\">grid-row: 1 / span 2;</code>这行代码看起来有些费解，因为毕竟只有一行子元素。它的作用是使子元素动画与父元素保持一致。<br/>我们把动画放慢，并且给<code class=\"x-inline-highlight\">content</code>带上灰色背景，给<code class=\"x-inline-highlight\">content &#62; div</code>带上红色背景，观察一下使用和不使用这个属性的区别："}}],["$","div",null,{"className":"x-flexrow-wrapper","children":["$","div",null,{"className":"x-flexrow","style":{"gap":"32px","minWidth":"$undefined","justifyContent":"$undefined","alignItems":"$undefined"},"children":[["$","div",null,{"children":[["$","h4",null,{"className":"x-h3","children":"不使用"}],["$","div",null,{"className":"imm_wrapper4__Jh5pz","children":[["$","h4",null,{"children":"hover me!"}],["$","div",null,{"className":"imm_content4__jXMDZ","children":["$","div",null,{"children":[["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}]]}]}]]}]]}],["$","div",null,{"children":[["$","h4",null,{"className":"x-h3","children":"使用"}],["$","div",null,{"className":"imm_wrapper5__9j5l_","children":[["$","h4",null,{"children":"hover me!"}],["$","div",null,{"className":"imm_content5__eCO4f","children":["$","div",null,{"children":[["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}]]}]}]]}]]}],["$","div",null,{"className":"imm_flex-spacer__Iu7eH"}]]}]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"这个问题是否发生似乎与浏览器的行为有关，在Google Chrome和Microsoft Edge中需要设置这个属性；但在Firefox中即使不写<code class=\"x-inline-highlight\">grid-row: 1 / span 2;</code>也不会引起这个问题。"}}]]
c:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"CSS实现auto高度的过渡动画 - 铃木的网络日记"}],["$","link","3",{"rel":"canonical","href":"https://1kuzus.github.io/23d/css-auto-height-transition/"}]]
1:null
