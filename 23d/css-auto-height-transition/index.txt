1:HL["/_next/static/css/8ac0b0e7f508d966.css","style",{"crossOrigin":""}]
0:["F8tpvN5-yNKUAmwFuXero",[[["",{"children":["(blogs)",{"children":["23d",{"children":["css-auto-height-transition",{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/8ac0b0e7f508d966.css","precedence":"next","crossOrigin":""}]],"$L3"]]]]
4:HL["/_next/static/css/d1ba65e78d6f432c.css","style",{"crossOrigin":""}]
5:HL["/_next/static/css/8aa8c54654c19176.css","style",{"crossOrigin":""}]
6:I[9226,["185","static/chunks/app/layout-959d1352bec0edcb.js"],"GlobalProvider"]
7:I[9330,["185","static/chunks/app/layout-959d1352bec0edcb.js"],""]
8:I[6954,[],""]
9:I[7264,[],""]
a:I[413,["413","static/chunks/413-dc980fd24c15cede.js","160","static/chunks/app/not-found-aa1272efa852a321.js"],"Image"]
b:I[5285,["954","static/chunks/d3ac728e-1e5d8b71e3d43fec.js","413","static/chunks/413-dc980fd24c15cede.js","202","static/chunks/202-268c3b9a2ea32d77.js","396","static/chunks/396-150eb8004cde3d82.js","135","static/chunks/app/(blogs)/layout-39f18c96d96b8978.js"],""]
d:I[4484,["954","static/chunks/d3ac728e-1e5d8b71e3d43fec.js","413","static/chunks/413-dc980fd24c15cede.js","202","static/chunks/202-268c3b9a2ea32d77.js","71","static/chunks/app/(blogs)/23d/css-auto-height-transition/page-7999131711550701.js"],"Title"]
e:I[4484,["954","static/chunks/d3ac728e-1e5d8b71e3d43fec.js","413","static/chunks/413-dc980fd24c15cede.js","202","static/chunks/202-268c3b9a2ea32d77.js","71","static/chunks/app/(blogs)/23d/css-auto-height-transition/page-7999131711550701.js"],"H1"]
f:I[4484,["954","static/chunks/d3ac728e-1e5d8b71e3d43fec.js","413","static/chunks/413-dc980fd24c15cede.js","202","static/chunks/202-268c3b9a2ea32d77.js","71","static/chunks/app/(blogs)/23d/css-auto-height-transition/page-7999131711550701.js"],"H3"]
10:I[9708,["954","static/chunks/d3ac728e-1e5d8b71e3d43fec.js","413","static/chunks/413-dc980fd24c15cede.js","202","static/chunks/202-268c3b9a2ea32d77.js","71","static/chunks/app/(blogs)/23d/css-auto-height-transition/page-7999131711550701.js"],""]
11:I[4484,["954","static/chunks/d3ac728e-1e5d8b71e3d43fec.js","413","static/chunks/413-dc980fd24c15cede.js","202","static/chunks/202-268c3b9a2ea32d77.js","71","static/chunks/app/(blogs)/23d/css-auto-height-transition/page-7999131711550701.js"],"H2"]
3:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Create Next App"}],["$","meta","2",{"name":"description","content":"Generated by create next app"}],["$","meta","3",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
2:[null,["$","html",null,{"lang":"en","children":["$","body",null,{"children":["$","$L6",null,{"children":[["$","$L7",null,{}],["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":["$","div",null,{"id":"notfound","children":[["$","$La",null,{"alt":"img","width":true,"height":true,"src":"/next.svg","style":{"width":500,"height":"auto"}}],["$","div",null,{"id":"notfound-404","children":"404"}],["$","div",null,{"id":"notfound-text","children":"Page Not Found"}]]}],"notFoundStyles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/eccd2e7a1149e571.css","precedence":"next","crossOrigin":""}]],"childProp":{"current":[null,["$","$Lb",null,{"children":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children","(blogs)","children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children","(blogs)","children","23d","children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children","(blogs)","children","23d","children","css-auto-height-transition","children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$Lc",[["$","$Ld",null,{"children":"$undefined"}],["$","$Le",null,{"children":"问题描述"}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"下面是一个常见的效果，当鼠标悬浮时展开显示内容，离开时自动收回。"}}],["$","div",null,{"className":"x-flexrow","style":{"width":"$undefined","gap":"32px","justifyContent":"$undefined","alignItems":"$undefined"},"children":[["$","div",null,{"children":[["$","$Lf",null,{"children":"html"}],["$","$L10",null,{"language":"html","code":"\n                        <div id=\"wrapper\">\n                            <h4>hover me!</h4>\n                            <div id=\"content\">\n                                <p>Hello, World!</p>\n                                <p>Hello, World!</p>\n                                <p>Hello, World!</p>\n                                <p>Hello, World!</p>\n                            </div>\n                        </div>\n                        "}]]}],["$","div",null,{"children":[["$","$Lf",null,{"children":"css"}],["$","$L10",null,{"language":"css","code":"\n                        #wrapper {\n                            width: 240px;\n                            padding: 16px 24px;\n                            border-radius: 12px;\n                        }\n                        #content p {\n                            line-height: 32px;\n                        }\n                        #content {\n                            height: 0;\n                            overflow: hidden;\n                            /*不起作用*/\n                            transition: height 500ms;\n                        }\n                        #wrapper:hover #content {\n                            height: auto;\n                        }\n                        "}]]}],["$","div",null,{"id":"blog660e89-wrapper1","children":[["$","h4",null,{"children":"hover me!"}],["$","div",null,{"id":"blog660e89-content1","children":[["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}]]}]]}]]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"由于通常不知道<code class=\"x-inline-highlight\">content</code>中具体内容所占的高度，因此常用<code class=\"x-inline-highlight\">height: auto;</code>设置高度。上面的示例可以良好的实现要求，问题出现在当我们需要为这个高度的变化添加过渡动画时，会发现<code class=\"x-inline-highlight\">transition: height 200ms;</code>不起作用，这是因为<code class=\"x-inline-highlight\">auto</code>并不是一个具体的高度数值。"}}],["$","$Le",null,{"children":"使用 max-height 解决"}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"一个常见方案是使用<code class=\"x-inline-highlight\">max-height</code>控制。这样确实可以实现过渡动画效果，但并不是一个“完美”的动画：<br/> 当过高的估计了<code class=\"x-inline-highlight\">content</code>容器的最大可能高度时，鼠标移入时的动画会的变快，而移出时动画会有延迟。这是因为有一部分时间花在了<code class=\"x-inline-highlight\">max-height</code>数值在<code class=\"x-inline-highlight\">content</code>容器的真实高度和设定值之间的过渡上，而这部分过渡时间不会影响页面元素的样式。"}}],["$","div",null,{"className":"x-flexrow","style":{"width":"$undefined","gap":"32px","justifyContent":"$undefined","alignItems":"$undefined"},"children":[["$","div",null,{"children":[["$","$Lf",null,{"children":"html"}],["$","$L10",null,{"language":"html","code":"\n                        <div id=\"wrapper\">\n                            <h4>hover me!</h4>\n                            <div id=\"content\">\n                                <p>Hello, World!</p>\n                                <p>Hello, World!</p>\n                                <p>Hello, World!</p>\n                                <p>Hello, World!</p>\n                            </div>\n                        </div>\n                        "}]]}],["$","div",null,{"children":[["$","$Lf",null,{"children":"css"}],["$","$L10",null,{"language":"css","code":"\n                        #wrapper {\n                            width: 240px;\n                            padding: 16px 24px;\n                            border-radius: 12px;\n                        }\n                        #content p {\n                            line-height: 32px;\n                        }\n                        #content {\n                            /*起始高度*/\n                            max-height: 0;\n                            overflow: hidden;\n                            transition: max-height 500ms;\n                        }\n                        #wrapper:hover #content {\n                            /*确保大于content最大可能高度*/\n                            max-height: 600px;\n                        }\n                        "}]]}],["$","div",null,{"id":"blog660e89-wrapper2","children":[["$","h4",null,{"children":"hover me!"}],["$","div",null,{"id":"blog660e89-content2","children":[["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}]]}]]}]]}],["$","$Le",null,{"children":"更好的方案：使用 grid"}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"一个更完美的解决方案是使用网格布局："}}],["$","div",null,{"className":"x-flexrow","style":{"width":"$undefined","gap":"32px","justifyContent":"$undefined","alignItems":"$undefined"},"children":[["$","div",null,{"children":[["$","$Lf",null,{"children":"html"}],["$","$L10",null,{"language":"html","code":"\n                        <div id=\"wrapper\">\n                            <h4>hover me!</h4>\n                            <div id=\"content\">\n                                <div>\n                                    <p>Hello, World!</p>\n                                    <p>Hello, World!</p>\n                                    <p>Hello, World!</p>\n                                    <p>Hello, World!</p>\n                                </div>\n                            </div>\n                        </div>\n                        "}]]}],["$","div",null,{"children":[["$","$Lf",null,{"children":"css"}],["$","$L10",null,{"language":"css","code":"\n                        #wrapper {\n                            width: 240px;\n                            padding: 16px 24px;\n                            border-radius: 12px;\n                        }\n                        #content p {\n                            line-height: 32px;\n                        }\n                        #content {\n                            display: grid;\n                            grid-template-rows: 0fr;\n                            transition: \n                                grid-template-rows 500ms;\n                        }\n                        #content > div {\n                            /*使子元素动画与父元素保持一致*/\n                            grid-row: 1 / span 2;\n                            /*overflow也设置给子元素*/\n                            overflow: hidden;\n                        }\n                        #wrapper:hover #content {\n                            grid-template-rows: 1fr;\n                        }\n                        "}]]}],["$","div",null,{"id":"blog660e89-wrapper3","children":[["$","h4",null,{"children":"hover me!"}],["$","div",null,{"id":"blog660e89-content3","children":["$","div",null,{"children":[["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}]]}]}]]}]]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"注意在html结构中，要为<code class=\"x-inline-highlight\">content</code>再添加一层子元素<code class=\"x-inline-highlight\">div</code>，<code class=\"x-inline-highlight\">display: grid;</code>和<code class=\"x-inline-highlight\">grid-template-rows</code>属性仍然设置给<code class=\"x-inline-highlight\">content</code>，但此时<code class=\"x-inline-highlight\">overflow: hidden;</code>要设置给<code class=\"x-inline-highlight\">content</code>的子元素。"}}],["$","$L11",null,{"children":"讨论"}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"<code class=\"x-inline-highlight\">grid-row: 1 / span 2;</code>这行代码看起来有些费解，因为毕竟只有一行子元素。它的作用是使子元素动画与父元素保持一致。<br/>我们把动画放慢，并且给<code class=\"x-inline-highlight\">content</code>带上灰色背景，给<code class=\"x-inline-highlight\">content > div</code>带上红色背景，观察一下使用和不使用这个属性的区别："}}],["$","div",null,{"className":"x-flexrow","style":{"width":"$undefined","gap":"32px","justifyContent":"$undefined","alignItems":"$undefined"},"children":[["$","div",null,{"children":[["$","$Lf",null,{"children":"不使用"}],["$","div",null,{"id":"blog660e89-wrapper4","children":[["$","h4",null,{"children":"hover me!"}],["$","div",null,{"id":"blog660e89-content4","children":["$","div",null,{"children":[["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}]]}]}]]}]]}],["$","div",null,{"children":[["$","$Lf",null,{"children":"使用"}],["$","div",null,{"id":"blog660e89-wrapper5","children":[["$","h4",null,{"children":"hover me!"}],["$","div",null,{"id":"blog660e89-content5","children":["$","div",null,{"children":[["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}],["$","p",null,{"children":"Hello, World!"}]]}]}]]}]]}],["$","div",null,{"id":"blog660e89-flex-spacer"}]]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"这个问题是否发生似乎与浏览器的行为有关：在我测试时，使用Google Chrome和Microsoft Edge时二者表现是不同的，但在Firefox中是相同的，即使不写<code class=\"x-inline-highlight\">grid-row: 1 / span 2;</code>也不会引起这个问题。"}}]],null],"segment":"__PAGE__"},"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/8aa8c54654c19176.css","precedence":"next","crossOrigin":""}]]}],"segment":"css-auto-height-transition"},"styles":[]}],"segment":"23d"},"styles":[]}],"params":{}}],null],"segment":"(blogs)"},"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/d1ba65e78d6f432c.css","precedence":"next","crossOrigin":""}]]}]]}]}]}],null]
c:null
