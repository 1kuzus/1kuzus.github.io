1:HL["/_next/static/css/8ac0b0e7f508d966.css","style",{"crossOrigin":""}]
0:["aCGhGRfB6AbKUEnvQWAtS",[[["",{"children":["(blogs)",{"children":["23d",{"children":["database-3nf",{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/8ac0b0e7f508d966.css","precedence":"next","crossOrigin":""}]],"$L3"]]]]
4:HL["/_next/static/css/c84b60895b980f14.css","style",{"crossOrigin":""}]
5:HL["/_next/static/css/f70c26425a044d6b.css","style",{"crossOrigin":""}]
6:I[9226,["185","static/chunks/app/layout-e12e822557cc964c.js"],"GlobalProvider"]
7:I[9330,["185","static/chunks/app/layout-e12e822557cc964c.js"],""]
8:I[6954,[],""]
9:I[7264,[],""]
a:I[5285,["176","static/chunks/176-6509553bec92a789.js","135","static/chunks/app/(blogs)/layout-75f88dfdcbd0ba18.js"],""]
c:I[4484,["954","static/chunks/d3ac728e-1e5d8b71e3d43fec.js","202","static/chunks/202-7b9f876bcb1bf7b4.js","305","static/chunks/app/(blogs)/23d/database-3nf/page-720fd8b33f70f496.js"],"Title"]
d:I[4484,["954","static/chunks/d3ac728e-1e5d8b71e3d43fec.js","202","static/chunks/202-7b9f876bcb1bf7b4.js","305","static/chunks/app/(blogs)/23d/database-3nf/page-720fd8b33f70f496.js"],"H1"]
2:[null,["$","html",null,{"lang":"en","children":["$","body",null,{"children":["$","$L6",null,{"children":[["$","$L7",null,{}],["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"childProp":{"current":[null,["$","$La",null,{"children":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children","(blogs)","children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children","(blogs)","children","23d","children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children","(blogs)","children","23d","children","database-3nf","children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$Lb",[["$","$Lc",null,{"children":"$undefined"}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"为了减少数据冗余，设计数据表时必须遵循一定的规则，在关系型数据库中这种规则就称为范式。<br/> 严谨的定义可以参考维基百科<a href=\"https://zh.wikipedia.org/zh-cn/%E7%AC%AC%E4%B8%80%E6%AD%A3%E8%A6%8F%E5%8C%96\" target=\"_blank\" rel=\"noreferrer\" class=\"x-inline-link\">第一范式</a>、<a href=\"https://zh.wikipedia.org/zh-cn/%E7%AC%AC%E4%BA%8C%E6%AD%A3%E8%A6%8F%E5%8C%96\" target=\"_blank\" rel=\"noreferrer\" class=\"x-inline-link\">第二范式</a>、<a href=\"https://zh.wikipedia.org/zh-cn/%E7%AC%AC%E4%B8%89%E6%AD%A3%E8%A6%8F%E5%8C%96\" target=\"_blank\" rel=\"noreferrer\" class=\"x-inline-link\">第三范式</a>，互联网上也有很多优秀的技术博客。本文希望以简洁的语句和例子进行描述。"}}],["$","$Ld",null,{"children":"第一范式 - 1NF"}],["$","div",null,{"className":"x-highlightblock highlight-background-golden","children":["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"数据库表的每一列都是不可再分的。"}}]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"下面是一个不符合第一范式的例子："}}],["$","table",null,{"className":"x-table","children":["$","tbody",null,{"children":[["$","tr","0",{"children":[["$","th","0",{"children":"人员编号"}],["$","th","1",{"children":"姓名"}],["$","th","2",{"children":"地址"}],["$","th","3",{"children":"职务"}]]}],["$","tr","1",{"children":[["$","td","0",{"children":"1001"}],["$","td","1",{"children":"李雨晨"}],["$","td","2",{"children":"江苏省南京市"}],["$","td","3",{"children":"财务部经理"}]]}],["$","tr","2",{"children":[["$","td","0",{"children":"1002"}],["$","td","1",{"children":"张文浩"}],["$","td","2",{"children":"辽宁省沈阳市"}],["$","td","3",{"children":"财务部员工"}]]}],["$","tr","3",{"children":[["$","td","0",{"children":"1003"}],["$","td","1",{"children":"王洪"}],["$","td","2",{"children":"湖北省武汉市"}],["$","td","3",{"children":"销售部实习生"}]]}],["$","tr","4",{"children":[["$","td","0",{"children":"1004"}],["$","td","1",{"children":"陈宇航"}],["$","td","2",{"children":"吉林省长春市"}],["$","td","3",{"children":"销售部员工"}]]}]]}]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"其中的<code class=\"x-inline-highlight\">职务</code>应该再分为<code class=\"x-inline-highlight\">部门</code>和<code class=\"x-inline-highlight\">职务</code>两个字段，因为业务中可能会经常分别用到这两个属性！"}}],["$","table",null,{"className":"x-table","children":["$","tbody",null,{"children":[["$","tr","0",{"children":[["$","th","0",{"children":"人员编号"}],["$","th","1",{"children":"姓名"}],["$","th","2",{"children":"地址"}],["$","th","3",{"children":"部门"}],["$","th","4",{"children":"职务"}]]}],["$","tr","1",{"children":[["$","td","0",{"children":"1001"}],["$","td","1",{"children":"李雨晨"}],["$","td","2",{"children":"江苏省南京市"}],["$","td","3",{"children":"财务部"}],["$","td","4",{"children":"经理"}]]}],["$","tr","2",{"children":[["$","td","0",{"children":"1002"}],["$","td","1",{"children":"张文浩"}],["$","td","2",{"children":"辽宁省沈阳市"}],["$","td","3",{"children":"财务部"}],["$","td","4",{"children":"员工"}]]}],["$","tr","3",{"children":[["$","td","0",{"children":"1003"}],["$","td","1",{"children":"王洪"}],["$","td","2",{"children":"湖北省武汉市"}],["$","td","3",{"children":"销售部实"}],["$","td","4",{"children":"习生"}]]}],["$","tr","4",{"children":[["$","td","0",{"children":"1004"}],["$","td","1",{"children":"陈宇航"}],["$","td","2",{"children":"吉林省长春市"}],["$","td","3",{"children":"销售部"}],["$","td","4",{"children":"员工"}]]}]]}]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"你可能在想<code class=\"x-inline-highlight\">地址</code>字段是否应该拆分。甚至<code class=\"x-inline-highlight\">姓名</code>也可以拆分成<code class=\"x-inline-highlight\">姓</code>和<code class=\"x-inline-highlight\">名</code>两个字段："}}],["$","table",null,{"className":"x-table","children":["$","tbody",null,{"children":[["$","tr","0",{"children":[["$","th","0",{"children":"人员编号"}],["$","th","1",{"children":"姓"}],["$","th","2",{"children":"名"}],["$","th","3",{"children":"省"}],["$","th","4",{"children":"市"}],["$","th","5",{"children":"部门"}],["$","th","6",{"children":"职务"}]]}],["$","tr","1",{"children":[["$","td","0",{"children":"1001"}],["$","td","1",{"children":"李"}],["$","td","2",{"children":"雨晨"}],["$","td","3",{"children":"江苏省"}],["$","td","4",{"children":"南京市"}],["$","td","5",{"children":"财务部"}],["$","td","6",{"children":"经理"}]]}],["$","tr","2",{"children":[["$","td","0",{"children":"1002"}],["$","td","1",{"children":"张"}],["$","td","2",{"children":"文浩"}],["$","td","3",{"children":"辽宁省"}],["$","td","4",{"children":"沈阳市"}],["$","td","5",{"children":"财务部"}],["$","td","6",{"children":"员工"}]]}],["$","tr","3",{"children":[["$","td","0",{"children":"1003"}],["$","td","1",{"children":"王"}],["$","td","2",{"children":"洪"}],["$","td","3",{"children":"湖北省"}],["$","td","4",{"children":"武汉市"}],["$","td","5",{"children":"销售部实"}],["$","td","6",{"children":"习生"}]]}],["$","tr","4",{"children":[["$","td","0",{"children":"1004"}],["$","td","1",{"children":"陈"}],["$","td","2",{"children":"宇航"}],["$","td","3",{"children":"吉林省"}],["$","td","4",{"children":"长春市"}],["$","td","5",{"children":"销售部"}],["$","td","6",{"children":"员工"}]]}]]}]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"这个例子比上一个更好吗？哪一种设计更符合第一范式？事实上，两个例子都是符合的，具体的取舍要参考具体的业务。例如<code class=\"x-inline-highlight\">姓名</code>、<code class=\"x-inline-highlight\">地址</code>在业务中都整体出现，那么第二个例子就是最佳选择。如果业务涉及<span class=\"x-inline-strong\">分别</span>对所属省、市的操作，那么就应该将<code class=\"x-inline-highlight\">地址</code>字段拆分为<code class=\"x-inline-highlight\">省</code>和<code class=\"x-inline-highlight\">市</code>。"}}],["$","$Ld",null,{"children":"第二范式 - 2NF"}],["$","div",null,{"className":"x-highlightblock highlight-background-golden","children":["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"符合第一范式，且非主键字段必须完全依赖于主键字段，不能只依赖主键的一部分。（主要针对联合主键而言）"}}]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"下面是一个不符合第二范式的例子："}}],["$","table",null,{"className":"x-table","children":["$","tbody",null,{"children":[["$","tr","0",{"children":[["$","th","0",{"children":"学号(主键)"}],["$","th","1",{"children":"课程代码(主键)"}],["$","th","2",{"children":"学生姓名"}],["$","th","3",{"children":"成绩"}]]}],["$","tr","1",{"children":[["$","td","0",{"children":"202101"}],["$","td","1",{"children":"001"}],["$","td","2",{"children":"Alice"}],["$","td","3",{"children":"97"}]]}],["$","tr","2",{"children":[["$","td","0",{"children":"202102"}],["$","td","1",{"children":"001"}],["$","td","2",{"children":"Bob"}],["$","td","3",{"children":"86"}]]}],["$","tr","3",{"children":[["$","td","0",{"children":"202103"}],["$","td","1",{"children":"001"}],["$","td","2",{"children":"Candy"}],["$","td","3",{"children":"80"}]]}],["$","tr","4",{"children":[["$","td","0",{"children":"202103"}],["$","td","1",{"children":"003"}],["$","td","2",{"children":"Candy"}],["$","td","3",{"children":"93"}]]}]]}]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"这个例子中，<code class=\"x-inline-highlight\">成绩</code>是针对某一学生的某一课程而言的，因此需要<code class=\"x-inline-highlight\">学号</code>和<code class=\"x-inline-highlight\">课程代码</code>作为联合主键才能确定；然而学生的<code class=\"x-inline-highlight\">学生姓名</code>仅由<code class=\"x-inline-highlight\">学号</code>就可以唯一确定，这就叫部分依赖于主键，因此不符合第二范式。正确的做法是将<code class=\"x-inline-highlight\">学生姓名</code>和<code class=\"x-inline-highlight\">成绩</code>分开存放于两张表中："}}],["$","div",null,{"className":"x-flexrow","style":{"width":"$undefined","gap":"32px","justifyContent":"$undefined","alignItems":"$undefined"},"children":[["$","table",null,{"className":"x-table","children":["$","tbody",null,{"children":[["$","tr","0",{"children":[["$","th","0",{"children":"学号(主键)"}],["$","th","1",{"children":"学生姓名"}]]}],["$","tr","1",{"children":[["$","td","0",{"children":"202101"}],["$","td","1",{"children":"Alice"}]]}],["$","tr","2",{"children":[["$","td","0",{"children":"202102"}],["$","td","1",{"children":"Bob"}]]}],["$","tr","3",{"children":[["$","td","0",{"children":"202103"}],["$","td","1",{"children":"Candy"}]]}]]}]}],["$","table",null,{"className":"x-table","children":["$","tbody",null,{"children":[["$","tr","0",{"children":[["$","th","0",{"children":"学号(主键)"}],["$","th","1",{"children":"课程代码(主键)"}],["$","th","2",{"children":"成绩"}]]}],["$","tr","1",{"children":[["$","td","0",{"children":"202101"}],["$","td","1",{"children":"001"}],["$","td","2",{"children":"97"}]]}],["$","tr","2",{"children":[["$","td","0",{"children":"202102"}],["$","td","1",{"children":"001"}],["$","td","2",{"children":"86"}]]}],["$","tr","3",{"children":[["$","td","0",{"children":"202103"}],["$","td","1",{"children":"001"}],["$","td","2",{"children":"80"}]]}],["$","tr","4",{"children":[["$","td","0",{"children":"202103"}],["$","td","1",{"children":"003"}],["$","td","2",{"children":"93"}]]}]]}]}]]}],["$","$Ld",null,{"children":"第三范式 - 3NF"}],["$","div",null,{"className":"x-highlightblock highlight-background-golden","children":["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"符合第二范式，且非主键列都和主键直接相关，而不能间接相关（依赖于其他非主键字段）。"}}]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"即第三范式要求不存在<span class=\"x-inline-strong\">传递依赖</span>，非主键属性之间应该是独立无关的。"}}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"下面是一个不符合第三范式的例子："}}],["$","table",null,{"className":"x-table","children":["$","tbody",null,{"children":[["$","tr","0",{"children":[["$","th","0",{"children":"id"}],["$","th","1",{"children":"姓名"}],["$","th","2",{"children":"城市"}],["$","th","3",{"children":"城市人口/万"}]]}],["$","tr","1",{"children":[["$","td","0",{"children":"1"}],["$","td","1",{"children":"张三"}],["$","td","2",{"children":"重庆市"}],["$","td","3",{"children":"3100"}]]}],["$","tr","2",{"children":[["$","td","0",{"children":"2"}],["$","td","1",{"children":"李四"}],["$","td","2",{"children":"武汉市"}],["$","td","3",{"children":"1418"}]]}],["$","tr","3",{"children":[["$","td","0",{"children":"3"}],["$","td","1",{"children":"王五"}],["$","td","2",{"children":"北京市"}],["$","td","3",{"children":"2154"}]]}]]}]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"这个例子不符合第三范式，因为存在间接的传递决定关系：<code class=\"x-inline-highlight\">id → 城市 → 城市人口</code>。<code class=\"x-inline-highlight\">城市人口</code>字段直接依赖的是<code class=\"x-inline-highlight\">城市</code>字段，而不是主键<code class=\"x-inline-highlight\">id</code>。正确的做法是设计两张表："}}],["$","div",null,{"className":"x-flexrow","style":{"width":"$undefined","gap":"32px","justifyContent":"$undefined","alignItems":"$undefined"},"children":[["$","table",null,{"className":"x-table","children":["$","tbody",null,{"children":[["$","tr","0",{"children":[["$","th","0",{"children":"id"}],["$","th","1",{"children":"姓名"}],["$","th","2",{"children":"城市"}]]}],["$","tr","1",{"children":[["$","td","0",{"children":"1"}],["$","td","1",{"children":"张三"}],["$","td","2",{"children":"重庆市"}]]}],["$","tr","2",{"children":[["$","td","0",{"children":"2"}],["$","td","1",{"children":"李四"}],["$","td","2",{"children":"武汉市"}]]}],["$","tr","3",{"children":[["$","td","0",{"children":"3"}],["$","td","1",{"children":"王五"}],["$","td","2",{"children":"北京市"}]]}]]}]}],["$","table",null,{"className":"x-table","children":["$","tbody",null,{"children":[["$","tr","0",{"children":[["$","th","0",{"children":"城市"}],["$","th","1",{"children":"城市人口/万"}]]}],["$","tr","1",{"children":[["$","td","0",{"children":"重庆市"}],["$","td","1",{"children":"3100"}]]}],["$","tr","2",{"children":[["$","td","0",{"children":"武汉市"}],["$","td","1",{"children":"1418"}]]}],["$","tr","3",{"children":[["$","td","0",{"children":"北京市"}],["$","td","1",{"children":"2154"}]]}]]}]}]]}]],null],"segment":"__PAGE__"},"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/f70c26425a044d6b.css","precedence":"next","crossOrigin":""}]]}],"segment":"database-3nf"},"styles":[]}],"segment":"23d"},"styles":[]}],"params":{}}],null],"segment":"(blogs)"},"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c84b60895b980f14.css","precedence":"next","crossOrigin":""}]]}]]}]}]}],null]
3:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Create Next App"}],["$","meta","2",{"name":"description","content":"Generated by create next app"}],["$","meta","3",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","link","4",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"48x48"}]]
b:null
