4:I[5613,[],""]
5:I[1778,[],""]
6:I[9806,["8792","static/chunks/8792-72030bcaaad25c8d.js","9135","static/chunks/app/(blogs)/layout-a6b1fa6340beea16.js"],""]
7:I[3393,["8792","static/chunks/8792-72030bcaaad25c8d.js","9135","static/chunks/app/(blogs)/layout-a6b1fa6340beea16.js"],""]
8:I[5694,["8792","static/chunks/8792-72030bcaaad25c8d.js","3185","static/chunks/app/layout-909fcb115c40cba0.js"],"GlobalProvider"]
9:I[397,["8792","static/chunks/8792-72030bcaaad25c8d.js","3185","static/chunks/app/layout-909fcb115c40cba0.js"],""]
2:T4c9,第二点是显然的。对于第一点，如果合并序列的中位数<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>同时大于<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>和<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>，那么原来两个序列中一定分别有多于半数的元素小于<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>，此时合并序列中小于<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>的元素个数也一定多于半数，与中位数定义矛盾。3:T3266,<span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">double</span> <span class="token function">mid</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span><span class="token comment">//返回数组中位数</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">+</span>arr<span class="token punctuation">[</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2.0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">double</span> <span class="token function">findMedianSortedArrays</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums1<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> m<span class="token operator">=</span>nums1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>n<span class="token operator">=</span>nums2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>m<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">mid</span><span class="token punctuation">(</span>nums2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">mid</span><span class="token punctuation">(</span>nums1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;</span>m<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">findMedianSortedArrays</span><span class="token punctuation">(</span>nums2<span class="token punctuation">,</span>nums1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> l1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>r1<span class="token operator">=</span>m<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>l2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>r2<span class="token operator">=</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>m1<span class="token punctuation">,</span>m2<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>l1<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>r1<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            m1<span class="token operator">=</span>l1<span class="token operator">+</span><span class="token punctuation">(</span>r1<span class="token operator">-</span>l1<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>m2<span class="token operator">=</span>l2<span class="token operator">+</span><span class="token punctuation">(</span>r2<span class="token operator">-</span>l2<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>nums1<span class="token punctuation">[</span>m1<span class="token punctuation">]</span><span class="token operator">+</span>nums1<span class="token punctuation">[</span>m1<span class="token operator">+</span><span class="token punctuation">(</span>r1<span class="token operator">-</span>l1<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>nums2<span class="token punctuation">[</span>m2<span class="token punctuation">]</span><span class="token operator">+</span>nums2<span class="token punctuation">[</span>m2<span class="token operator">+</span><span class="token punctuation">(</span>r2<span class="token operator">-</span>l2<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                r2<span class="token operator">-=</span><span class="token punctuation">(</span>m1<span class="token operator">-</span>l1<span class="token punctuation">)</span><span class="token punctuation">,</span>l1<span class="token operator">=</span>m1<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>r1<span class="token operator">-</span>l1<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> m1<span class="token operator">++</span><span class="token punctuation">;</span>
                l2<span class="token operator">+=</span><span class="token punctuation">(</span>r1<span class="token operator">-</span>m1<span class="token punctuation">)</span><span class="token punctuation">,</span>r1<span class="token operator">=</span>m1<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        m2<span class="token operator">=</span>l2<span class="token operator">+</span><span class="token punctuation">(</span>r2<span class="token operator">-</span>l2<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token punctuation">(</span>r2<span class="token operator">-</span>l2<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//长数组剩余部分是否为偶数个</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> ans<span class="token operator">=</span><span class="token punctuation">{</span>nums1<span class="token punctuation">[</span>l1<span class="token punctuation">]</span><span class="token punctuation">,</span>nums2<span class="token punctuation">[</span>m2<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>r1<span class="token operator">!=</span>l1<span class="token punctuation">)</span> ans<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>nums1<span class="token punctuation">[</span>r1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//短数组长度为2</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span> ans<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>nums2<span class="token punctuation">[</span>m2<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//长数组长度为偶数</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">&lt;=</span>m2<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>m2<span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span>flag<span class="token operator">&lt;</span>n<span class="token punctuation">)</span><span class="token comment">//中位数左、右一个元素均不越界</span>
        <span class="token punctuation">{</span>
            ans<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>nums2<span class="token punctuation">[</span>m2<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ans<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>nums2<span class="token punctuation">[</span>m2<span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span>flag<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">sort</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">mid</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
0:["iLd67OoiQ4H2u-H-CAXSy",[[["",{"children":["(blogs)",{"children":["24b",{"children":["leetcode-4",{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true],["",{"children":["(blogs)",{"children":["24b",{"children":["leetcode-4",{"children":["__PAGE__",{},["$L1",[["$","h1",null,{"className":"x-title","children":"LeetCode 4.寻找两个正序数组的中位数"}],["$","div",null,{"className":"x-highlightblock highlight-background-golden","children":["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"原题链接：<a href=\"https://leetcode.cn/problems/median-of-two-sorted-arrays/description/\" target=\"_blank\" rel=\"noreferrer\" class=\"x-inline-link\">寻找两个正序数组的中位数</a>"}}]}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"题目要求<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span></span></span></span>级别的算法，下面给出<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mopen\">(</span><span class=\"mop\">min</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">))</span></span></span></span>的解法，和官方题解的思路不太相同。"}}],["$","p",null,{"className":"x-p no-margin-bottom","dangerouslySetInnerHTML":{"__html":"我的思路基于两个观察："}}],["$","div",null,{"className":"x-oli","children":[["$","div",null,{"className":"x-oli-number","children":"1."}],["$","div",null,{"className":"x-oli-content-wrapper","children":["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"如果两个有序序列的中位数分别为<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span>和<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span>，那么合并后的序列的中位数一定在<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span>和<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span>（闭区间）之间。"}}]}]]}],["$","div",null,{"className":"x-oli","children":[["$","div",null,{"className":"x-oli-number","children":"2."}],["$","div",null,{"className":"x-oli-content-wrapper","children":["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"对于合并后的序列，同时删掉最小和最大的<span class=\"x-inline-strong\">相同数量</span>的元素，中位数不变。"}}]}]]}],["$","p",null,{"className":"x-p with-margin-top","dangerouslySetInnerHTML":{"__html":"$2"}}],["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"基于上面两个观察，对短数组进行二分区间，同时也在长数组上维护一个区间，每次比较两个区间的中位数大小。<span class=\"x-inline-strong\">假如短数组的中位数更大</span>，那么短数组取区间的左半部分，相当于<span class=\"x-inline-strong\">删掉了短数组右区间的<code class=\"x-inline-highlight\">k</code>个元素</span>；此时要相应地<span class=\"x-inline-strong\">删掉长数组左区间的<code class=\"x-inline-highlight\">k</code>个元素</span>，以保证合并后的序列的中位数不变。"}}],["$","p",null,{"className":"x-p no-margin-bottom","dangerouslySetInnerHTML":{"__html":"此解法的边界条件需要格外注意："}}],["$","div",null,{"className":"x-oli","children":[["$","div",null,{"className":"x-oli-number","children":"1."}],["$","div",null,{"className":"x-oli-content-wrapper","children":["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"如果一方数组为空，则直接返回另一方的中位数。"}}]}]]}],["$","div",null,{"className":"x-oli","children":[["$","div",null,{"className":"x-oli-number","children":"2."}],["$","div",null,{"className":"x-oli-content-wrapper","children":["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"如果区间包含了偶数个元素，则中间两个元素都要保留，以保证正确性。对于部分情况相当于区间要额外包含一个元素进来。（高亮行）"}}]}]]}],["$","div",null,{"className":"x-oli","children":[["$","div",null,{"className":"x-oli-number","children":"3."}],["$","div",null,{"className":"x-oli-content-wrapper","children":["$","p",null,{"className":"x-p","dangerouslySetInnerHTML":{"__html":"算法终止时，短数组区间长度可能是<code class=\"x-inline-highlight\">1</code>或<code class=\"x-inline-highlight\">2</code>个元素，最终的结果就是把这两个元素插入到长数组区间中，再取中位数。为了保证效率，不去做插入，而是讨论长数组区间中位数附近的元素。"}}]}]]}],["$","p",null,{"className":"x-p with-margin-top","dangerouslySetInnerHTML":{"__html":"注意上述第三点，假设长数组区间中位数情况为：<code class=\"x-inline-highlight\">[... a m b ...]</code>或<code class=\"x-inline-highlight\">[... a m1 m2 b ...]</code>，那么如果<code class=\"x-inline-highlight\">a</code>和<code class=\"x-inline-highlight\">b</code>存在（没越界）也要纳入考虑。这是因为如果短数组剩余的元素均小于<code class=\"x-inline-highlight\">a</code>，则有可能中位数需要通过<code class=\"x-inline-highlight\">a</code>和<code class=\"x-inline-highlight\">m</code>（或<code class=\"x-inline-highlight\">m1</code>）计算得到。反之亦然。体现在代码中，短数组可能向<code class=\"x-inline-highlight\">ans</code>贡献<code class=\"x-inline-highlight\">1</code>或<code class=\"x-inline-highlight\">2</code>个元素，长数组可能向<code class=\"x-inline-highlight\">ans</code>贡献<code class=\"x-inline-highlight\">1</code>~<code class=\"x-inline-highlight\">4</code>个元素。最后对至多含有<code class=\"x-inline-highlight\">6</code>个元素的<code class=\"x-inline-highlight\">ans</code>排序取中位数即可。"}}],["$","div",null,{"className":"x-codeblock","children":["$","pre",null,{"style":{"background":"linear-gradient(180deg, transparent 504px, var(--bg-transparent-golden) 504px 528px, transparent 528px)"},"children":["$","code",null,{"dangerouslySetInnerHTML":{"__html":"$3"}}]}]}]],null]]},["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","(blogs)","children","24b","children","leetcode-4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/233b7667e3c12808.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","(blogs)","children","24b","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},[null,["$","div",null,{"id":"blog-layout","children":[["$","div",null,{"id":"main","children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","(blogs)","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]}],["$","$L6",null,{}],["$","$L7",null,{}]]}],null]]},[null,["$","html",null,{"lang":"zh-CN","suppressHydrationWarning":true,"children":[["$","head",null,{"children":[["$","link",null,{"rel":"icon","href":"/favicon.ico","type":"image/x-icon"}],["$","script",null,{"async":true,"src":"https://www.googletagmanager.com/gtag/js?id=G-45BYSZ6WPY"}],["$","script",null,{"async":true,"src":"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"}],["$","script",null,{"dangerouslySetInnerHTML":{"__html":"\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag() {\n    dataLayer.push(arguments);\n}\ngtag('js', new Date());\ngtag('config', 'G-45BYSZ6WPY');\n"}}],["$","script",null,{"dangerouslySetInnerHTML":{"__html":"const a=z=>h.getItem(z),b=(y,z)=>h.setItem(y,z),c=(y,z)=>document.documentElement.setAttribute(y,z),d='theme',e='dark',f='light',g='class',h=localStorage;a(d)!==e&&a(d)!==f&&b(d,f);a(d)===e?c(g,e):c(g,f);"}}]]}],["$","body",null,{"children":["$","$L8",null,{"children":[["$","$L9",null,{}],["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"id":"notfound","children":[["$","img",null,{"alt":"img","src":"/images/cry.gif"}],["$","div",null,{"id":"notfound-404","children":"404"}],["$","div",null,{"id":"notfound-text","children":"Page Not Found"}]]}],"notFoundStyles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/eccd2e7a1149e571.css","precedence":"next","crossOrigin":""}]],"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/391c9d793ecdcfc9.css","precedence":"next","crossOrigin":""}]]}]]}]}]]}],null]],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/a0c81e8012055d49.css","precedence":"next","crossOrigin":""}]],"$La"]]]]
a:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"LeetCode 4.寻找两个正序数组的中位数 - 铃木的网络日记"}],["$","link","3",{"rel":"canonical","href":"https://1kuzus.github.io/24b/leetcode-4/"}]]
1:null
